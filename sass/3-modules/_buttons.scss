/*
######## #### ######## ######## ##    ## 
##        ##       ##       ##   ##  ##  
##        ##      ##       ##     ####   
######    ##     ##       ##       ##    
##        ##    ##       ##        ##    
##        ##   ##       ##         ##    
##       #### ######## ########    ##    
*/

/*
A fizzy button spews colorful particles on hover
The button must have a "fizzy-spots-container"
Inside this container are 52 "fizzy-spot" divs
    Index 1 - 20: top side spots
    Index 21-40: bottom side spots
    Index 41-46: left side spots
    Index 47-52: right side spots

HTML templates:
<button>
    <div class="fizzy-spots-container>
        <div class="fizzy-spot"></div>
        <div class="fizzy-spot"></div>
        <div class="fizzy-spot"></div>
        ... (x52)
    </div>
</button>

*/

button.fizzy-button {
	border: none;
	color: $white;
	background-color: $primary;
	width: 60vw;
	border-radius: 10px;
	font-weight: 600;
	font-size: 1.1rem;
	padding: 0.8em;
	margin-top: 1em;
    position: relative;
    a {
        display: inline-block;
        width: 100%;
        height: 100%;
    }
}


.fizzy-spots-container .fizzy-spot{
    position: absolute;
    border-radius:100px;
    opacity: 0;
    animation: opacity 1s;
    @for $i from 1 through 52 {
        &:nth-of-type(#{$i}){
            transform-origin:90px - random(10) 20px - random(10);
            background:hsla(350 + random(399) ,57% - random(10) ,65%,1);
            box-shadow: 0px 0px 10px rgba(255,255,255,0.12);
            transition: all 0s + random(10)/10;
        }
    }

    // Randomize positions of the spots
    @for $i from 1 through 20{
        &:nth-child(#{$i}){
            padding:random(3) + 2 + px;
            left: -10 + $i * 5.5%;
            top: 100%;
        }
    }
    @for $i from 21 through 40{
        &:nth-child(#{$i}){
            padding:random(3) + 2 + px;
            left: -10 + (($i - 19) * 5.5%);
            top: -5%;
        }
    }
    @for $i from 41 through 46{
        &:nth-child(#{$i}){
            padding:random(3) + 2 + px;
            left: 98%;
            top: ($i - 38) * 10%;
        }
    }

    @for $i from 47 through 52{
        &:nth-child(#{$i}){
            padding:random(3) + 2 + px;
            left: -3%;
            top: ($i - 45) * 10%;

        }
    }
}

// Add animation settings on hover
.fizzy-button:hover .fizzy-spot{
	@for $i from 1 through 52{
		&:nth-of-type(#{$i}){
			animation: spot-#{$i} .5s .4/random(10) + random(10)/10 + s linear infinite;
		}
	}
}

@for $i from 1 through 20{
    @keyframes spot-#{$i}{
        from{opacity:0;}
        to{transform:translateY(30px) translatex(-20px + $i*2);opacity: 1;}
    }
}

// Set different keyframes for spots on 4 different sides
@for $i from 21 through 40{
    @keyframes spot-#{$i}{
        from{opacity:0;}
        to{transform:translateY(-30px) translatex(-50px + $i*2);opacity: 1;}
    }
}
@for $i from 41 through 46{
    @keyframes spot-#{$i}{
        from{opacity:0;}
        to{transform:translateY(-86px + $i*2) translatex(40px);opacity: 1;}
    }
}
@for $i from 47 through 52{
    @keyframes spot-#{$i}{
        from{opacity:0;}
        to{transform:translateY(-99px + $i*2) translatex(-40px);opacity: 1;}
    }
}

// General animation keyframes
@keyframes opacity{
    from{}
    to{opacity:0;}
}

@keyframes rotate{
    from{opacity:.8}
    to{transform:rotate(360deg);opacity:.8}
}

@keyframes down{
    from{left:10px;}
    to{left:57px;}
}

@keyframes spew{
    from{opacity:0;}
    to{opacity:0.8;}
}

@keyframes final{
    from{opacity:1;}
    to{opacity:0;}
}
@keyframes finalbox{
    from{}
    to{width:50px;}
}